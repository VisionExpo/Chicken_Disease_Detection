<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poultry Disease Detection History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .img-fluid {
            max-width: 100%;
            height: auto;
        }
        .section-title {
            margin-top: 40px;
            font-size: 1.8em;
        }
        .section-content {
            font-size: 1.1em;
        }
        .section-content ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        .section-content ul li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Poultry Disease Detection Model - History</h1>

        <!-- Training History -->
        <div class="mt-4">
            <h3 class="section-title">Training History</h3>
            <div class="row">
                <div class="col-md-6">
                    <h4>Model Accuracy vs Validation Accuracy</h4>
                    <img src="{{ url_for('static', filename='training_accuracy.png') }}" alt="Accuracy Plot" class="img-fluid">
                </div>
                <div class="col-md-6">
                    <h4>Model Loss vs Validation Loss</h4>
                    <img src="{{ url_for('static', filename='training_loss.png') }}" alt="Loss Plot" class="img-fluid">
                </div>
            </div>
            <h5>Model Metrics:</h5>
            <ul>
                <li><strong>Accuracy:</strong> {{ history_data['accuracy'][-1] }}</li>
                <li><strong>Validation Accuracy:</strong> {{ history_data['val_accuracy'][-1] }}</li>
                <li><strong>Loss:</strong> {{ history_data['loss'][-1] }}</li>
                <li><strong>Validation Loss:</strong> {{ history_data['val_loss'][-1] }}</li>
            </ul>
        </div>

        <!-- High-Level Design (HLD) -->
        <div class="mt-4">
            <h3 class="section-title">High-Level Design (HLD)</h3>
            <p class="section-content">
                The Poultry Disease Detection system uses machine learning to classify poultry diseases based on images. The system follows a simple structure:
            </p>
            <ul class="section-content">
                <li><strong>Data Ingestion:</strong> Collect images of poultry and their diseases, stored in a designated directory. Data is ingested using the Kaggle API to download datasets directly from Kaggle.</li>
                <li><strong>Model Training:</strong> A pre-trained VGG16 model is fine-tuned using the poultry dataset. Data augmentation is applied to improve model performance.</li>
                <li><strong>Prediction:</strong> The trained model makes predictions based on input images, detecting specific poultry diseases.</li>
                <li><strong>Visualization:</strong> The system displays training progress, accuracy, and loss graphs for performance tracking.</li>
            </ul>
        </div>

        <!-- Kaggle API Data Ingestion -->
        <div class="mt-4">
            <h3 class="section-title">Kaggle API Data Ingestion</h3>
            <p class="section-content">
                The Kaggle API is used to download datasets directly into the application, ensuring seamless data ingestion for model training. The dataset is then preprocessed and fed into the training pipeline. Below is an overview of the process:
            </p>
            <ul class="section-content">
                <li><strong>API Authentication:</strong> The Kaggle API is authenticated using an API token to gain access to the dataset.</li>
                <li><strong>Dataset Download:</strong> The poultry disease dataset is downloaded directly from Kaggle using the API, ensuring that the latest data is available for training.</li>
                <li><strong>Data Preprocessing:</strong> Images are resized to a consistent shape and augmented using transformations like random flips, rotations, and zooming.</li>
                <li><strong>Integration:</strong> The dataset is integrated into the training pipeline, and the model is trained with the preprocessed data.</li>
            </ul>
        </div>

        <!-- Low-Level Design (LLD) -->
        <div class="mt-4">
            <h3 class="section-title">Low-Level Design (LLD)</h3>
            <p class="section-content">
                The Low-Level Design focuses on the implementation details and architecture of the model.
            </p>
            <ul class="section-content">
                <li><strong>Data Preprocessing:</strong> Images are resized to a consistent shape (224x224x3) and augmented using random transformations like rotations, flips, and zooming.</li>
                <li><strong>VGG16 Model Architecture:</strong> The base VGG16 model, pre-trained on ImageNet, is modified by replacing its top layers to make it suitable for poultry disease classification.</li>
                <li><strong>Transfer Learning:</strong> The pre-trained weights from ImageNet are used to initialize the model, and only the last few layers are trained on the poultry dataset.</li>
                <li><strong>Training Process:</strong> The model is trained for 10 epochs, using batch size 32. Both training and validation loss/accuracy are tracked to monitor performance.</li>
                <li><strong>Prediction Pipeline:</strong> Once trained, the model is deployed for inference. The `predict()` method processes incoming images and classifies them into disease categories.</li>
            </ul>
        </div>

        <!-- Pre-trained VGG16 Model -->
        <div class="mt-4">
            <h3 class="section-title">Pre-trained VGG16 Model</h3>
            <p class="section-content">
                VGG16 is a convolutional neural network model trained on the ImageNet dataset with 16 layers. It is a proven architecture for image classification tasks.
            </p>
            <ul class="section-content">
                <li><strong>Architecture:</strong> The VGG16 model consists of 13 convolutional layers followed by 3 fully connected layers. It uses small receptive fields (3x3 convolutions) and max-pooling layers.</li>
                <li><strong>Pre-training:</strong> The model has already been trained on ImageNet, a large and diverse dataset containing over a million images of 1000 categories.</li>
                <li><strong>Why VGG16?</strong> VGG16 has been shown to perform well on various image classification tasks due to its simple yet effective design.</li>
                <li><strong>VGG16 Architecture:</strong> The VGG16 network has a total of 16 layers. Below is an illustration of the architecture.</li>
            </ul>
            <h4>VGG16 Architecture Diagram:</h4>
            <img src="{{ url_for('static', filename='vgg16_architecture.png') }}" alt="VGG16 Architecture" class="img-fluid">
        </div>

        <!-- Transfer Learning Approach -->
        <div class="mt-4">
            <h3 class="section-title">Transfer Learning Approach</h3>
            <p class="section-content">
                Transfer learning allows us to leverage a pre-trained model for a different, but related task. Instead of training a model from scratch, we can fine-tune a pre-trained model like VGG16 on our specific poultry disease dataset.
            </p>
            <ul class="section-content">
                <li><strong>Pre-training:</strong> The base model (VGG16) is pre-trained on ImageNet to learn general features of images.</li>
                <li><strong>Fine-tuning:</strong> The top layers of the VGG16 model are replaced with layers specific to the poultry disease classification task. The weights from ImageNet are used to initialize the network, while only the final layers are trained on the poultry dataset.</li>
                <li><strong>Benefits:</strong> Transfer learning significantly reduces training time and improves performance, especially when there is a limited dataset.</li>
            </ul>
        </div>

        <!-- Model Architecture -->
        <div class="mt-4">
            <h3 class="section-title">Model Architecture</h3>
            <img src="{{ url_for('static', filename='model_architecture.png') }}" alt="Model Architecture" class="img-fluid">
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
